<<<<<<< HEAD
{% extends 'base.html' %} {% block title %}User Profile{% endblock %} {% block content %}
<div class="card">
  <div class="card-header">
    <h3>Profile Information</h3>
  </div>
  <div class="card-body">
    <table class="table">
      <tr>
        <th>Username:</th>
        <td>{{ user.username }}</td>
      </tr>
      <tr>
        <th>Email:</th>
        <td>{{ user.email }}</td>
      </tr>
      <tr>
        <th>First Name:</th>
        <td>{{ user.first_name }}</td>
      </tr>
      <tr>
        <th>Last Name:</th>
        <td>{{ user.last_name }}</td>
      </tr>
    </table>
  </div>
</div>

{% if error %}
<div class="alert alert-danger mt-4">
  <h4>Error Generating Tokens</h4>
  <p>{{ error }}</p>
</div>
{% else %}
<div class="card mt-4">
  <div class="card-header">
    <h3>Your JWT Tokens</h3>
  </div>
  <div class="card-body">
    <div class="alert alert-warning">
      <h5>How to use these tokens</h5>
      <p>
        To access protected API endpoints, include the Access Token in your
        request headers:
      </p>
      <pre><code>Authorization: Bearer &lt;access_token&gt;</code></pre>
      <p>
        When your access token expires, use the Refresh Token to get a new one
        without logging in again.
      </p>
    </div>

    <div class="mb-3">
      <label class="form-label"
        >Access Token:
        <small class="text-muted">(expires in 5 minutes)</small></label
      >
      <textarea class="form-control token-box" rows="3" readonly>
{{ access_token }}</textarea
      >
    </div>
    <div class="mb-3">
      <label class="form-label"
        >Refresh Token:
        <small class="text-muted">(expires in 1 day)</small></label
      >
      <textarea class="form-control token-box" rows="3" readonly>
{{ refresh_token }}</textarea
      >
    </div>

    <div class="mt-3">
      <h5>Test Your Token</h5>
      <p>Try accessing a protected API endpoint with your token:</p>
      <a href="/api/protected/" class="btn btn-outline-primary" target="_blank"
        >Access Protected API</a
      >
      <p class="mt-2">
        <small
          >This will fail in the browser. Use a tool like Postman and include
          your Access Token.</small
        >
      </p>
    </div>
  </div>
</div>

<div class="card mt-4">
  <div class="card-header">
    <h3>Login History</h3>
  </div>
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Date & Time</th>
          <th>IP Address</th>
          <th>User Agent</th>
        </tr>
      </thead>
      <tbody>
        {% for login in login_history %}
        <tr>
          <td>{{ login.login_datetime }}</td>
          <td>{{ login.ip_address|default:"-" }}</td>
          <td class="text-truncate" style="max-width: 300px">
            {{ login.user_agent|default:"-" }}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No login history available</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endif %} {% endblock %}
=======
{% extends 'base.html' %} {% block title %}User Profile{% endblock %} {% block content %}
<div class="card">
  <div class="card-header">
    <h3>Profile Information</h3>
  </div>
  <div class="card-body">
    <table class="table">
      <tr>
        <th>Username:</th>
        <td>{{ user.username }}</td>
      </tr>
      <tr>
        <th>Email:</th>
        <td>{{ user.email }}</td>
      </tr>
      <tr>
        <th>First Name:</th>
        <td>{{ user.first_name }}</td>
      </tr>
      <tr>
        <th>Last Name:</th>
        <td>{{ user.last_name }}</td>
      </tr>
    </table>
  </div>
</div>

{% if error %}
<div class="alert alert-danger mt-4">
  <h4>Error Generating Tokens</h4>
  <p>{{ error }}</p>
</div>
{% else %}
<div class="card mt-4">
  <div class="card-header">
    <h3>Your JWT Tokens</h3>
  </div>
  <div class="card-body">
    <div class="alert alert-warning">
      <h5>How to use these tokens</h5>
      <p>
        To access protected API endpoints, include the Access Token in your
        request headers:
      </p>
      <pre><code>Authorization: Bearer &lt;access_token&gt;</code></pre>
      <p>
        When your access token expires, use the Refresh Token to get a new one
        without logging in again.
      </p>
    </div>

    <div class="mb-3">
      <label class="form-label"
        >Access Token:
        <small class="text-muted">(expires in 5 minutes)</small></label
      >
      <textarea class="form-control token-box" rows="3" readonly>
{{ access_token }}</textarea
      >
    </div>
    <div class="mb-3">
      <label class="form-label"
        >Refresh Token:
        <small class="text-muted">(expires in 1 day)</small></label
      >
      <textarea class="form-control token-box" rows="3" readonly>
{{ refresh_token }}</textarea
      >
    </div>

    <div class="mt-3">
      <h5>Test Your Token</h5>
      <p>Try accessing a protected API endpoint with your token:</p>
      <a href="/api/protected/" class="btn btn-outline-primary" target="_blank"
        >Access Protected API</a
      >
      <p class="mt-2">
        <small
          >This will fail in the browser. Use a tool like Postman and include
          your Access Token.</small
        >
      </p>
    </div>
  </div>
</div>

<div class="card mt-4">
  <div class="card-header">
    <h3>Login History</h3>
  </div>
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Date & Time</th>
          <th>IP Address</th>
          <th>User Agent</th>
        </tr>
      </thead>
      <tbody>
        {% for login in login_history %}
        <tr>
          <td>{{ login.login_datetime }}</td>
          <td>{{ login.ip_address|default:"-" }}</td>
          <td class="text-truncate" style="max-width: 300px">
            {{ login.user_agent|default:"-" }}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No login history available</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endif %} {% endblock %}
>>>>>>> 1d2a47fef390eff824b3bc7cf2ea9d7e421b8492
